# Commerce Barrier Analytics (DA-10)

![Python](https://img.shields.io/badge/Python-3.13-blue)
![ML](https://img.shields.io/badge/ML-Classification-green)
![Streamlit](https://img.shields.io/badge/UI-Streamlit-orange)

## Preview проекта

**Commerce Barrier Analytics** — это ИИ-система для интернет-магазинов, которая помогает выявлять реальные причины отказа пользователей от покупки и автоматически генерирует персонализированные рекомендации и email для устранения этих барьеров. В отличие от стандартных шаблонных рассылок со скидками, система фокусируется на решении конкретной проблемы, мешающей пользователю завершить покупку.  

Проект реализован полностью на синтетических данных и может служить прототипом для анализа поведения пользователей и генерации персонализированных рассылок.

---

## Основные возможности

1. **Сбор и анализ поведения пользователей**
   - Просмотры товаров (`x1_views`)
   - Загрузка PDF с характеристиками (`x2_chars_pdf`)
   - Просмотр страницы доставки и сборки (`x3_ship_page`, `x5_assembly_page`)
   - Использование калькулятора доставки (`x4_calc_used`, `x4_ship_cost`)
   - Просмотр страницы гарантий и возврата (`x6_warranty`, `x7_return_page`)
   - Взаимодействие с поддержкой (`x9_chat_text`)
   - История email (`x8_email_clicks`)
   - Отзывы о товарах (`x10_reviews`)

2. **Классификация барьеров покупки**
   - Модель классифицирует пользователей по типу барьера:
     - 1 — Отсутствие доверия
     - 2 — Цена
     - 3 — Сложность доставки/сборки
     - 4 — Неуверенность в размере/подходящести
     - 5 — Страх перед возвратом

3. **Генерация персонализированных email**  
- Автоматическое создание писем через LLM на основе типа барьера.  
- Каждый сегмент получает уникальный контент с советами, видео или FAQ.

4. **Оценка эффективности**
- Симуляция открытий, кликов, возвратов к корзине и завершённых покупок.  
- Поддержка A/B тестирования различных стратегий.

---

## Пример синтетических данных

| user_id | product_name            | x1_views | x2_chars_pdf | x3_ship_page | x4_calc_used | x4_ship_cost | x5_assembly_page | x6_warranty | x7_return_page | x8_email_clicks | x9_chat_text                   | x10_reviews | Barrier_Class |
|---------|------------------------|----------|--------------|--------------|--------------|--------------|-----------------|-------------|----------------|----------------|--------------------------------|-------------|---------------|
| 1000    | Шкаф-купе "Лофт"       | 5        | 7            | 0            | 0            | 0.00         | 0               | 0           | 0              | 2              | высота глубина                 | 1           | 2             |
| 1001    | Шкаф-купе "Лофт"       | 1        | 1            | 0            | 0            | 0.00         | 1               | 0           | 0              | 1              | установка инструкция сборка     | 0           | 3             |
| 1002    | Стеллаж деревянный      | 3        | 1            | 0            | 0            | 0.00         | 1               | 0           | 0              | 2              | инструмент нет инструкции      | 0           | 3             |
| 1003    | Тумба прикроватная      | 11       | 6            | 0            | 0            | 0.00         | 0               | 0           | 0              | 2              | не помещается высота ширина    | 2           | 2             |
| 1004    | Тумба прикроватная      | 4        | 2            | 0            | 1            | 1717.38      | 0               | 0           | 0              | 5              | дорого не по карману цена      | 0           | 1             |

> Все данные полностью синтетические.

---

## Архитектура репозитория

```bash
Commerce-Barrier-Analytics/
│
├── synthetic_data/        # Синтетические CSV-файлы с поведением пользователей
├── models/                # Обученные модели классификации барьеров (на данном этапе XGBoost)
├── notebooks/             # Jupyter/Colab ноутбуки для анализа и экспериментов
├── src/                   # Основной код проекта
│   ├── data_generating.py # Создание синтетических данных
│   ├── data_processing.py # Предобработка и фичи
│   ├── model.py           # Модель классификации барьеров
│   ├── email_gen.py       # Генерация email через LLM
│   └── utils.py           # Вспомогательные функции
├── ui/                    # Streamlit приложение (в разработке)
├── tests/                 # Тесты модулей
├── requirements.txt
└── README.md
```

---

## Технологии

- Python 3.13
- pandas, scikit-learn, XGBoost
- OpenAI/LLM API для генерации email
- Streamlit для UI (в разработке)
- Jupyter Notebook для экспериментов и анализа
- GitHub для версии и совместной работы

---

## Как запустить

1. Клонировать репозиторий:
```bash
git clone https://github.com/BodgeDook/Commerce-Barrier-Analytics.git
cd Commerce-Barrier-Analytics
```

2. Установить зависимости:
```bash
pip install -r requirements.txt
```

3. Запустить Streamlit (когда UI готов):
```
streamlit run ui/app.py
```